@model Betting.ViewModels.ContextCategoryDetails

<div>
    <h4>Context Category Details</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.TournamentId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TournamentId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CreatedOn)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CreatedOn)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Ended)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Ended)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EndedOn)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EndedOn)
        </dd>

    </dl>
</div>

<script id="context-item-tpl" type="text/x-handlebars-template">
    <tr class="ccat">
        <td>
            <div class="col-md-10">
                <input disabled="disabled" class="form-control text-box single-line" type="text" value="{{label}}">
            </div>
        </td>
        <td>
            <button class="btn btn-default">Edit</button> |
            <a class="btn btn-default" href="/Trading/ViewContext/{{id}}">View</a> |
            <button class="btn btn-default">Delete</button> |
        </td>
    </tr>
</script>
<script id="contexts-tpl" type="text/x-handlebars-template">
    <table class="table">
        <tr>
            <th>Label / Name</th>
            <th></th>
        </tr>
        <tbody class="contexttable">
            {{#each contexts}}
            {{{renderContextItem this}}}
            {{/each}}
        </tbody>
        <tbody>
            <tr>
                <td>
                    <div class="col-md-10">
                        <input class="form-control text-box single-line" id="newLabel" name="label" type="text" value="">
                    </div>
                </td>
                <td>
                    <input type="submit" value="Add" onclick="window.cms.categoryview.addNewContext()" class="btn btn-default">
                </td>
            </tr>
        </tbody>
    </table>
</script>

<ul class="contexts">
    @foreach (var item in Model.ContextModels)
    {
        <li data-id="@item.Id" data-catid="@item.CatId" data-label="@item.Label" , data-created="@item.CreatedOn"></li>
    }
</ul>

<div class="contextlist"></div>

<script src="~/Scripts/cms.categoryView.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        window.cms.categoryview.renderContexts();
        window.cms.categoryview.catid = '@Model.Id';
    });
</script>
